<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Disturbi dell’umore: La depressione</title>
  <style>
   body {
  background-image: url("bg.jpg");
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 40px;
  min-height: 100vh;
  box-sizing: border-box;
}

.flipbook {
  display: inline-block;
  position: relative;
  border-radius: 10px;
  overflow: hidden;
  width: 100%;
  max-width: 1200px;
  aspect-ratio: 3 / 2; /* mantiene proporzioni stabili */
}

.flipbook .page {
  width: 500px !important;
  height: 100%;
  position: relative;
  border: 1px solid red;
}

.flipbook .page img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  margin: auto;
  position: absolute;
  top: 0; left: 0; bottom: 0; right: 0;
  object-fit: contain; /* mostri tutta l'immagine senza tagliarla */
  image-rendering: auto;
  border-radius: 15px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .flipbook {
    width: 95vw;
    aspect-ratio: 3 / 2;
  }
}

@media (max-width: 480px) {
  .flipbook {
    width: 95vw;
    aspect-ratio: 3 / 2;
  }
}

/* Indicatore */
.indicator {
  position: absolute;
  top: 5px;
  right: 5px;
  padding: 25px;
  background: #feb602;
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  z-index: 99;
}

.indicator.show {
  opacity: 1;
}

  </style>
</head>

<body>
	
  <div class="flipbook">
    <!-- Le tue pagine -->
    <div class="page"><img src="img/1.png" />
	<div class="indicator"></div> 
	</div>
    <div class="page"><img src="img/2.png" /></div>
    <div class="page"><img src="img/3.png" /></div>
    <div class="page"><img src="img/4.png" /></div>
    <div class="page"><img src="img/5.png" /></div>
    <div class="page"><img src="img/6.png" /></div>
    <div class="page"><img src="img/7.png" /></div>
    <div class="page"><img src="img/8.png" /></div>
    <div class="page"><img src="img/9.png" /></div>
    <div class="page"><img src="img/10.png" /></div>
    <div class="page"><img src="img/11.png" /></div>
    <div class="page"><img src="img/12.png" /></div>
    <div class="page"><img src="img/13.png" /></div>
    <div class="page"><img src="img/14.png" /></div>
    <div class="page"><img src="img/15.png" /></div>
    <div class="page"><img src="img/16.png" /></div>
    <div class="page"><img src="img/17.png" /></div>
  </div>
  <div class="indicator"></div>
  
	<audio id="pageSound" src="page-flip.mp3" preload="auto"></audio>

	<script src="jquery.js"></script>
	<script src="turn.js"></script>
  <script>
    $(document).ready(function () {
	const sound = document.getElementById("pageSound");

      $(".flipbook").turn({
	  
        width: $(".flipbook").width(),
        height: $(".flipbook").height(),
		display: 'single',
        autoCenter: true,
        when: {
          turning: function () {
            // Riproduci suono quando sfoglia
            sound.currentTime = 0;
            sound.play();
          }
        }
      });

      // Ricalcola su resize
      $(window).resize(function () {
        $(".flipbook").turn("size", $(".flipbook").width(), $(".flipbook").height());
      });
	  
		function flashIndicator(times = 10, interval = 800) {
	  const indicator = document.querySelector('.indicator');
	  let count = 0;

	  const flash = setInterval(() => {
		// Alterna l'opacità
		if (indicator.style.opacity === "1") {
		  indicator.style.opacity = "0";
		} else {
		  indicator.style.opacity = "1";
		}

		count++;
		if (count >= times * 2) {
		  clearInterval(flash);
		  indicator.style.opacity = "0"; // assicurati che sia nascosto alla fine
		}
	  }, interval);
	}

	// Avvia lampeggio al caricamento
	flashIndicator();

	

		
    });
  </script>
</body>

</html>
